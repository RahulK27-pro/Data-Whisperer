generator client {
  provider       = "prisma-client-js"
  packageManager = "npm"
  previewFeatures = ["postgresqlExtensions"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  extensions = [vector]
}

// THIS IS THE ONLY TABLE WE PRE-DEFINE
// It stores the "context" for all your dynamic tables
model TableContext {
  id          String  @id @default(cuid())
  tableName   String  @unique // The name of the table the user created, e.g., "travelers"
  description String  // The description from the frontend
  embedding   Unsupported("vector(768)")? // Gemini embedding-001 produces 768 dimensions
}